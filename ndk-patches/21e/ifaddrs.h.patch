--- ./usr/include/ifaddrs.h.orig	2023-10-20 08:42:30.485896595 +0700
+++ ./usr/include/ifaddrs.h	2023-10-20 08:43:38.991901557 +0700
@@ -42,6 +42,9 @@
 /**
  * Returned by getifaddrs() and freed by freeifaddrs().
  */
+
+#if __ANDROID_API__ >= 24
+
 struct ifaddrs {
   /** Pointer to the next element in the linked list. */
   struct ifaddrs* ifa_next;
@@ -71,6 +74,27 @@
 /** Synonym for `ifa_ifu.ifu_dstaddr` in `struct ifaddrs`. */
 #define ifa_dstaddr ifa_ifu.ifu_dstaddr
 
+#else
+
+struct ifaddrs {
+    // Pointer to next struct in list, or NULL at end.
+    struct ifaddrs* ifa_next;
+
+    // Interface name.
+    char* ifa_name;
+
+    // Interface flags.
+    unsigned int ifa_flags;
+
+    // Interface network address.
+    struct sockaddr* ifa_addr;
+
+    // Interface netmask.
+    struct sockaddr* ifa_netmask;
+};
+
+#endif
+
 /**
  * [getifaddrs(3)](http://man7.org/linux/man-pages/man3/getifaddrs.3.html) creates a linked list
  * of `struct ifaddrs`. The list must be freed by freeifaddrs().
@@ -78,20 +102,16 @@
  * Returns 0 and stores the list in `*__list_ptr` on success,
  * and returns -1 and sets `errno` on failure.
  *
- * Available since API level 24.
  */
 
-#if __ANDROID_API__ >= 24
-int getifaddrs(struct ifaddrs** __list_ptr) __INTRODUCED_IN(24);
+int getifaddrs(struct ifaddrs** __list_ptr) __INTRODUCED_IN(21);
 
 /**
  * [freeifaddrs(3)](http://man7.org/linux/man-pages/man3/freeifaddrs.3.html) frees a linked list
  * of `struct ifaddrs` returned by getifaddrs().
  *
- * Available since API level 24.
- */
-void freeifaddrs(struct ifaddrs* __ptr) __INTRODUCED_IN(24);
-#endif /* __ANDROID_API__ >= 24 */
+**/
+void freeifaddrs(struct ifaddrs* __ptr) __INTRODUCED_IN(21);
 
 
 __END_DECLS
